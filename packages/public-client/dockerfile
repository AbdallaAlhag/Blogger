# Use an official Node runtime as the base image
FROM node:20-alpine

# Set the working directory in the container
WORKDIR /app

# Copy package.json and package-lock.json (if available)
COPY package*.json ./

# Install project dependencies
RUN npm install

# Copy the Vite config file
COPY vite.config.js .

# Copy the PostCSS config file
COPY postcss.config.js .

# Copy the project files
COPY src ./src

# If shared-components is inside your project, uncomment the next line:
# COPY src/shared-components ./src/shared-components

# If shared-components is outside your project, uncomment the next two lines:

# Attempt to build the app


# Install serve to run the application
RUN npm install -g serve

# Expose the port the app runs on
EXPOSE 5173

# Serve the app
CMD ["serve", "-s", "dist", "-l", "5173"]

# To build the docker iamge : docker build -t my-vite-app .

# To run the docker iamge : docker run -p 5000:5000 my-vite-app


